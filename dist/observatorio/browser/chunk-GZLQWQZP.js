import{a as A,b as M,c as D}from"./chunk-AZIIFHVM.js";import{b as q}from"./chunk-2UOJ7Y6R.js";import{a as x,d as C,e as E,f as w,h as n,j as y,k as F,l as N,m as _,n as I,o as U,p as j,r as R}from"./chunk-UQDV26LH.js";import{j as S}from"./chunk-LS3WY25F.js";import{Bc as h,Da as f,Db as v,Ob as o,Ua as d,Va as s,Wb as b,ha as c,lb as u,ub as t,vb as e,wb as i,zc as g}from"./chunk-BXJQFZYG.js";var Q=(()=>{class m{constructor(r,a,l){this.api=r,this.router=a,this.platformId=l,this.nuevoForm=new w({nombre:new n(""),apellido:new n(""),nombre_usuario:new n(""),contrasena:new n(""),estado:new n(""),fecha_registro:new n(""),token:new n("")})}ngOnInit(){if(h(this.platformId)){let r=localStorage.getItem("token");this.nuevoForm.patchValue({token:r}),console.log(r)}}registrarUsuario(){this.nuevoForm.valid?this.api.postUsuario(this.nuevoForm.value).subscribe({next:r=>{console.log("Usuario registrado exitosamente",r),this.router.navigate(["/lista-usuario"])},error:r=>{console.error("Error al registrar usuario",r)}}):console.warn("Formulario inv\xE1lido")}static{this.\u0275fac=function(a){return new(a||m)(s(q),s(S),s(f))}}static{this.\u0275cmp=c({type:m,selectors:[["app-crear-usuario"]],standalone:!0,features:[b],decls:58,vars:3,consts:[["id","wrapper",1,"d-flex"],["id","content-wrapper",1,"d-flex","flex-column","w-100",2,"height","100vh","overflow-y","auto"],["id","content",1,"d-flex","flex-column","w-100"],[1,"container-fluid"],[1,"d-sm-flex","align-items-center","justify-content-between","mb-4"],[1,"h3","mb-0","text-gray-800"],[1,"row"],[1,"col-lg-9","mb-4","mx-auto"],[1,"card","shadow","mb-4","mx-auto"],[1,"card-header","py-3","bg-primary","text-white"],[1,"m-0","font-weight-bold"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ej: Juan","required","",1,"form-control"],["for","apellido",1,"form-label"],["type","text","id","apellido","formControlName","apellido","placeholder","Ej: P\xE9rez","required","",1,"form-control"],[1,"col-md-4"],["for","nombre_usuario",1,"form-label"],["type","text","id","nombre_usuario","formControlName","nombre_usuario","placeholder","Ej: juan.perez@example.com","required","",1,"form-control"],["for","contrasena",1,"form-label"],["type","password","id","contrasena","formControlName","contrasena","placeholder","******","required","",1,"form-control"],["for","confirmar",1,"form-label"],["type","password","id","confirmar","placeholder","******","disabled","",1,"form-control",3,"value"],["for","fecha_registro",1,"form-label"],["type","date","id","fecha_registro","formControlName","fecha_registro","required","",1,"form-control"],["for","estado",1,"form-label"],["id","estado","formControlName","estado","required","",1,"form-control"],["value",""],["value","Activo"],["value","Inactivo"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(a,l){if(a&1&&(t(0,"div",0),i(1,"app-sidebar"),t(2,"div",1)(3,"div",2),i(4,"app-topbar"),t(5,"div",3)(6,"div",4)(7,"h1",5),o(8,"Registrar Usario Nuevo"),e()(),t(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h5",10),o(14,"Registrar Nuevo Usuario"),e()(),t(15,"div",11)(16,"form",12),v("ngSubmit",function(){return l.registrarUsuario()}),t(17,"div",13)(18,"div",14)(19,"label",15),o(20,"Nombre"),e(),i(21,"input",16),e(),t(22,"div",14)(23,"label",17),o(24,"Apellido"),e(),i(25,"input",18),e()(),t(26,"div",13)(27,"div",19)(28,"label",20),o(29,"Nombre de Usuario o Correo"),e(),i(30,"input",21),e(),t(31,"div",19)(32,"label",22),o(33,"Contrase\xF1a"),e(),i(34,"input",23),e(),t(35,"div",19)(36,"label",24),o(37,"Confirmar Contrase\xF1a"),e(),i(38,"input",25),e()(),t(39,"div",13)(40,"div",14)(41,"label",26),o(42,"Fecha de Registro"),e(),i(43,"input",27),e(),t(44,"div",14)(45,"label",28),o(46,"Estado"),e(),t(47,"select",29)(48,"option",30),o(49,"Seleccione"),e(),t(50,"option",31),o(51,"Activo"),e(),t(52,"option",32),o(53,"Inactivo"),e()()()(),t(54,"div",33)(55,"button",34),o(56,"Registrar Usuario"),e()()()()()()()()(),i(57,"app-footer"),e()()),a&2){let p;d(16),u("formGroup",l.nuevoForm),d(22),u("value",(p=l.nuevoForm.get("contrasena"))==null?null:p.value),d(17),u("disabled",l.nuevoForm.invalid)}},dependencies:[M,D,A,g,R,y,I,U,x,_,C,E,j,F,N]})}}return m})();export{Q as CrearUsuarioComponent};
